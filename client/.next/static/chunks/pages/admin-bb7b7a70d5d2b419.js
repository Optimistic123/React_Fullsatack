(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{5469:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(5824)}])},5789:function(e,n,t){"use strict";var r=t(5893),a=(t(9008),t(1664)),s=t(1163),i=t(5085),l=t(4865),c=t.n(l);t(4629);s.default.onRouteChangeStart=function(e){return c().start()},s.default.onRouteChangeComplete=function(e){return c().done()},s.default.onRouteChangeError=function(e){return c().done()};n.Z=function(e){var n=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",integrity:"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm",crossOrigin:"anonymous"}),(0,r.jsx)("link",{rel:"stylesheet",href:"/static/css/styles.css"})]})," ",(0,r.jsxs)("ul",{className:"nav nav-tabs bg-warning",children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Home"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/user/link/create",children:(0,r.jsx)("a",{className:"nav-link text-dark btn btn-success",style:{borderRadius:"0px"},children:"Submit a link"})})}),!(0,i.$D)()&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/login",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Login"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/register",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Register"})})})]}),(0,i.$D)()&&"admin"===(0,i.$D)().role&&(0,r.jsx)("li",{className:"nav-item ml-auto",children:(0,r.jsx)(a.default,{href:"/admin",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:(0,i.$D)().name})})}),(0,i.$D)()&&"subscriber"===(0,i.$D)().role&&(0,r.jsx)("li",{className:"nav-item ml-auto",children:(0,r.jsx)(a.default,{href:"/user",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:(0,i.$D)().name})})}),(0,i.$D)()&&(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)("a",{onClick:i.kS,className:"nav-link text-dark",children:"Logout"})})]})," ",(0,r.jsx)("div",{className:"container pt-5 pb-5",children:n})]})}},1838:function(e,n,t){"use strict";t.d(n,{bl:function(){return a},iC:function(){return s}});var r=(0,t(1752).default)().publicRuntimeConfig,a=r.API,s=r.APP_NAME;r.DOMAIN,r.PRODUCTION,r.FB_APP_ID},5085:function(e,n,t){"use strict";t.d(n,{ej:function(){return s},YR:function(){return l},$D:function(){return c},kS:function(){return u},Nq:function(){return o}});var r=t(1955),a=t(1163),s=function(e,n){return i(e)},i=function(e){return r.Z.get(e)},l=function(e,n){var t,a;t="token",a=e.data.token,r.Z.set(t,a,{expires:1}),function(e,n){localStorage.setItem(e,JSON.stringify(n))}("user",e.data.user),n()},c=function(){if(s("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))},u=function(){var e;e="token",r.Z.remove(e),function(e){localStorage.removeItem(e)}("user"),a.default.push("/login")},o=function(e,n){if(localStorage.getItem("user")){var t=JSON.parse(localStorage.getItem("user"));t=e,localStorage.setItem("user",JSON.stringify(t)),n()}}},5824:function(e,n,t){"use strict";t.r(n);var r=t(5893),a=t(5789),s=t(6398),i=t(1664);n.default=(0,s.default)((function(e){e.user;return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)("h1",{children:"Admin Dashboard"}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("ul",{className:"nav flex-column",children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)("a",{href:"/admin/category/create",className:"nav-link",children:"Create category"})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(i.default,{href:"/admin/category/read",children:(0,r.jsx)("a",{className:"nav-link",children:"All categories"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(i.default,{href:"/admin/link/read",children:(0,r.jsx)("a",{className:"nav-link",children:"All Links"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(i.default,{href:"/user/profile/update",children:(0,r.jsx)("a",{className:"nav-link",children:"Profile update"})})})]})}),(0,r.jsx)("div",{className:"col-md-8"})]})]})}))},6398:function(e,n,t){"use strict";t.r(n);var r=t(4051),a=t.n(r),s=t(5893),i=t(9669),l=t.n(i),c=t(1838),u=t(5085);function o(e,n,t,r,a,s,i){try{var l=e[s](i),c=l.value}catch(u){return void t(u)}l.done?n(c):Promise.resolve(c).then(r,a)}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){d(e,n,t[n])}))}return e}n.default=function(e){var n=function(n){return(0,s.jsx)(e,f({},n))};return n.getInitialProps=function(){var n,t=(n=a().mark((function n(t){var r,s,i,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=(0,u.ej)("token",t.req),s=null,i=[],!r){n.next=15;break}return n.prev=4,n.next=7,l().get("".concat(c.bl,"/admin"),{headers:{authorization:"Bearer ".concat(r),contentType:"application/json"}});case 7:o=n.sent,s=o.data.user,i=o.data.links,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),401===n.t0.response.status&&(s=null);case 15:if(null!==s){n.next=19;break}t.res.writeHead(302,{Location:"/"}),t.res.end(),n.next=31;break;case 19:if(n.t1=f,n.t2={},!e.getInitialProps){n.next=27;break}return n.next=24,e.getInitialProps(t);case 24:n.t3=n.sent,n.next=28;break;case 27:n.t3={};case 28:return n.t4=n.t3,n.t5={user:s,token:r,userLinks:i},n.abrupt("return",(0,n.t1)(n.t2,n.t4,n.t5));case 31:case"end":return n.stop()}}),n,null,[[4,12]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var s=n.apply(e,t);function i(e){o(s,r,a,i,l,"next",e)}function l(e){o(s,r,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),n}}},function(e){e.O(0,[774,61,304,888,179],(function(){return n=5469,e(e.s=n);var n}));var n=e.O();_N_E=n}]);