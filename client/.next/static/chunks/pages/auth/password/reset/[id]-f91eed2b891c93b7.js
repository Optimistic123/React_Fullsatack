(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{4970:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/password/reset/[id]",function(){return t(7252)}])},5789:function(e,n,t){"use strict";var r=t(5893),s=(t(9008),t(1664)),a=t(1163),o=t(5085),i=t(4865),c=t.n(i);t(4629);a.default.onRouteChangeStart=function(e){return c().start()},a.default.onRouteChangeComplete=function(e){return c().done()},a.default.onRouteChangeError=function(e){return c().done()};n.Z=function(e){var n=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",integrity:"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm",crossOrigin:"anonymous"}),(0,r.jsx)("link",{rel:"stylesheet",href:"/static/css/styles.css"})]})," ",(0,r.jsxs)("ul",{className:"nav nav-tabs bg-warning",children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(s.default,{href:"/",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Home"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(s.default,{href:"/user/link/create",children:(0,r.jsx)("a",{className:"nav-link text-dark btn btn-success",style:{borderRadius:"0px"},children:"Submit a link"})})}),!(0,o.$D)()&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(s.default,{href:"/login",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Login"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(s.default,{href:"/register",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Register"})})})]}),(0,o.$D)()&&"admin"===(0,o.$D)().role&&(0,r.jsx)("li",{className:"nav-item ml-auto",children:(0,r.jsx)(s.default,{href:"/admin",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:(0,o.$D)().name})})}),(0,o.$D)()&&"subscriber"===(0,o.$D)().role&&(0,r.jsx)("li",{className:"nav-item ml-auto",children:(0,r.jsx)(s.default,{href:"/user",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:(0,o.$D)().name})})}),(0,o.$D)()&&(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)("a",{onClick:o.kS,className:"nav-link text-dark",children:"Logout"})})]})," ",(0,r.jsx)("div",{className:"container pt-5 pb-5",children:n})]})}},1838:function(e,n,t){"use strict";t.d(n,{bl:function(){return s},iC:function(){return a}});var r=(0,t(1752).default)().publicRuntimeConfig,s=r.API,a=r.APP_NAME;r.DOMAIN,r.PRODUCTION,r.FB_APP_ID},2933:function(e,n,t){"use strict";t.d(n,{r:function(){return s},U:function(){return a}});var r=t(5893),s=function(e){return(0,r.jsx)("div",{className:"alert alert-success",children:e})},a=function(e){return(0,r.jsx)("div",{className:"alert alert-danger",children:e})}},5085:function(e,n,t){"use strict";t.d(n,{ej:function(){return a},YR:function(){return i},$D:function(){return c},kS:function(){return u},Nq:function(){return l}});var r=t(1955),s=t(1163),a=function(e,n){return o(e)},o=function(e){return r.Z.get(e)},i=function(e,n){var t,s;t="token",s=e.data.token,r.Z.set(t,s,{expires:1}),function(e,n){localStorage.setItem(e,JSON.stringify(n))}("user",e.data.user),n()},c=function(){if(a("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))},u=function(){var e;e="token",r.Z.remove(e),function(e){localStorage.removeItem(e)}("user"),s.default.push("/login")},l=function(e,n){if(localStorage.getItem("user")){var t=JSON.parse(localStorage.getItem("user"));t=e,localStorage.setItem("user",JSON.stringify(t)),n()}}},7252:function(e,n,t){"use strict";t.r(n);var r=t(4051),s=t.n(r),a=t(5893),o=t(7294),i=t(9669),c=t.n(i),u=t(2933),l=t(1838),d=t(1163),f=t(9704),m=t.n(f),h=t(5789);function x(e,n,t,r,s,a,o){try{var i=e[a](o),c=i.value}catch(u){return void t(u)}i.done?n(c):Promise.resolve(c).then(r,s)}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){v(e,n,t[n])}))}return e}n.default=(0,d.withRouter)((function(e){var n=e.router,t=(0,o.useState)({name:"",token:"",newPassword:"",buttonText:"Reset Password",success:"",error:""}),r=t[0],i=t[1],d=r.name,f=r.token,v=r.newPassword,j=r.buttonText,p=r.success,b=r.error;(0,o.useEffect)((function(){console.log(n);var e=m().decode(n.query.id);e&&i(g({},r,{name:e.name,token:n.query.id}))}),[n]);var w=function(e){i(g({},r,{newPassword:e.target.value,success:"",error:""}))},N=function(){var e,n=(e=s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i(g({},r,{buttonText:"Sending"})),e.prev=2,e.next=5,c().put("".concat(l.bl,"/reset-password"),{resetPasswordLink:f,newPassword:v});case 5:t=e.sent,i(g({},r,{newPassword:"",buttonText:"Done",success:t.data.message})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("RESET PW ERROR",e.t0),i(g({},r,{buttonText:"Forgot Password",error:e.t0.response.data.error}));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function o(e){x(a,r,s,o,i,"next",e)}function i(e){x(a,r,s,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,a.jsx)(h.Z,{children:(0,a.jsx)("div",{className:"row",children:(0,a.jsxs)("div",{className:"col-md-6 offset-md-3",children:[(0,a.jsxs)("h1",{children:["Hi ",d,", Ready to Reset Password?"]}),(0,a.jsx)("br",{}),p&&(0,u.r)(p),b&&(0,u.U)(b),(0,a.jsxs)("form",{onSubmit:N,children:[(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"password",className:"form-control",onChange:w,value:v,placeholder:"Type new password",required:!0})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:"btn btn-outline-warning",children:j})})]})]})})})}))},2361:function(){},4616:function(){}},function(e){e.O(0,[774,714,61,304,876,811,288,888,179],(function(){return n=4970,e(e.s=n);var n}));var n=e.O();_N_E=n}]);