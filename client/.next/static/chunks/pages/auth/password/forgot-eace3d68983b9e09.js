(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{4352:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/password/forgot",function(){return t(1391)}])},5789:function(e,n,t){"use strict";var r=t(5893),a=(t(9008),t(1664)),s=t(1163),i=t(5085),c=t(4865),o=t.n(c);t(4629);s.default.onRouteChangeStart=function(e){return o().start()},s.default.onRouteChangeComplete=function(e){return o().done()},s.default.onRouteChangeError=function(e){return o().done()};n.Z=function(e){var n=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",integrity:"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm",crossOrigin:"anonymous"}),(0,r.jsx)("link",{rel:"stylesheet",href:"/static/css/styles.css"})]})," ",(0,r.jsxs)("ul",{className:"nav nav-tabs bg-warning",children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Home"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/user/link/create",children:(0,r.jsx)("a",{className:"nav-link text-dark btn btn-success",style:{borderRadius:"0px"},children:"Submit a link"})})}),!(0,i.$D)()&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/login",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Login"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/register",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Register"})})})]}),(0,i.$D)()&&"admin"===(0,i.$D)().role&&(0,r.jsx)("li",{className:"nav-item ml-auto",children:(0,r.jsx)(a.default,{href:"/admin",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:(0,i.$D)().name})})}),(0,i.$D)()&&"subscriber"===(0,i.$D)().role&&(0,r.jsx)("li",{className:"nav-item ml-auto",children:(0,r.jsx)(a.default,{href:"/user",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:(0,i.$D)().name})})}),(0,i.$D)()&&(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)("a",{onClick:i.kS,className:"nav-link text-dark",children:"Logout"})})]})," ",(0,r.jsx)("div",{className:"container pt-5 pb-5",children:n})]})}},1838:function(e,n,t){"use strict";t.d(n,{bl:function(){return a},iC:function(){return s}});var r=(0,t(1752).default)().publicRuntimeConfig,a=r.API,s=r.APP_NAME;r.DOMAIN,r.PRODUCTION,r.FB_APP_ID},2933:function(e,n,t){"use strict";t.d(n,{r:function(){return a},U:function(){return s}});var r=t(5893),a=function(e){return(0,r.jsx)("div",{className:"alert alert-success",children:e})},s=function(e){return(0,r.jsx)("div",{className:"alert alert-danger",children:e})}},5085:function(e,n,t){"use strict";t.d(n,{ej:function(){return s},YR:function(){return c},$D:function(){return o},kS:function(){return l},Nq:function(){return u}});var r=t(1955),a=t(1163),s=function(e,n){return i(e)},i=function(e){return r.Z.get(e)},c=function(e,n){var t,a;t="token",a=e.data.token,r.Z.set(t,a,{expires:1}),function(e,n){localStorage.setItem(e,JSON.stringify(n))}("user",e.data.user),n()},o=function(){if(s("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))},l=function(){var e;e="token",r.Z.remove(e),function(e){localStorage.removeItem(e)}("user"),a.default.push("/login")},u=function(e,n){if(localStorage.getItem("user")){var t=JSON.parse(localStorage.getItem("user"));t=e,localStorage.setItem("user",JSON.stringify(t)),n()}}},1391:function(e,n,t){"use strict";t.r(n);var r=t(4051),a=t.n(r),s=t(5893),i=t(7294),c=t(9669),o=t.n(c),l=t(2933),u=t(1838),d=(t(1163),t(5789));function f(e,n,t,r,a,s,i){try{var c=e[s](i),o=c.value}catch(l){return void t(l)}c.done?n(o):Promise.resolve(o).then(r,a)}function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){m(e,n,t[n])}))}return e}n.default=function(){var e=(0,i.useState)({email:"",buttonText:"Forgot Password",success:"",error:""}),n=e[0],t=e[1],r=n.email,c=n.buttonText,m=n.success,x=n.error,v=function(e){t(h({},n,{email:e.target.value,success:"",error:""}))},g=function(){var e,s=(e=a().mark((function e(s){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,o().put("".concat(u.bl,"/forgot-password"),{email:r});case 4:i=e.sent,t(h({},n,{email:"",buttonText:"Done",success:i.data.message})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("FORGOT PW ERROR",e.t0),t(h({},n,{buttonText:"Forgot Password",error:e.t0.response.data.error}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var s=e.apply(n,t);function i(e){f(s,r,a,i,c,"next",e)}function c(e){f(s,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return s.apply(this,arguments)}}();return(0,s.jsx)(d.Z,{children:(0,s.jsx)("div",{className:"row",children:(0,s.jsxs)("div",{className:"col-md-6 offset-md-3",children:[(0,s.jsx)("h1",{children:"Forgot Password"}),(0,s.jsx)("br",{}),m&&(0,l.r)(m),x&&(0,l.U)(x),(0,s.jsxs)("form",{onSubmit:g,children:[(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{type:"email",className:"form-control",onChange:v,value:r,placeholder:"Type your email",required:!0})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"btn btn-outline-warning",children:c})})]})]})})})}}},function(e){e.O(0,[774,61,304,888,179],(function(){return n=4352,e(e.s=n);var n}));var n=e.O();_N_E=n}]);