(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{6584:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/activate/[id]",function(){return n(9005)}])},5789:function(e,t,n){"use strict";var r=n(5893),a=(n(9008),n(1664)),s=n(1163),c=n(5085),i=n(4865),o=n.n(i);n(4629);s.default.onRouteChangeStart=function(e){return o().start()},s.default.onRouteChangeComplete=function(e){return o().done()},s.default.onRouteChangeError=function(e){return o().done()};t.Z=function(e){var t=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",integrity:"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm",crossOrigin:"anonymous"}),(0,r.jsx)("link",{rel:"stylesheet",href:"/static/css/styles.css"})]})," ",(0,r.jsxs)("ul",{className:"nav nav-tabs bg-warning",children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Home"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/user/link/create",children:(0,r.jsx)("a",{className:"nav-link text-dark btn btn-success",style:{borderRadius:"0px"},children:"Submit a link"})})}),!(0,c.$D)()&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/login",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Login"})})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)(a.default,{href:"/register",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:"Register"})})})]}),(0,c.$D)()&&"admin"===(0,c.$D)().role&&(0,r.jsx)("li",{className:"nav-item ml-auto",children:(0,r.jsx)(a.default,{href:"/admin",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:(0,c.$D)().name})})}),(0,c.$D)()&&"subscriber"===(0,c.$D)().role&&(0,r.jsx)("li",{className:"nav-item ml-auto",children:(0,r.jsx)(a.default,{href:"/user",children:(0,r.jsx)("a",{className:"nav-link text-dark",children:(0,c.$D)().name})})}),(0,c.$D)()&&(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)("a",{onClick:c.kS,className:"nav-link text-dark",children:"Logout"})})]})," ",(0,r.jsx)("div",{className:"container pt-5 pb-5",children:t})]})}},1838:function(e,t,n){"use strict";n.d(t,{bl:function(){return a},iC:function(){return s}});var r=(0,n(1752).default)().publicRuntimeConfig,a=r.API,s=r.APP_NAME;r.DOMAIN,r.PRODUCTION,r.FB_APP_ID},2933:function(e,t,n){"use strict";n.d(t,{r:function(){return a},U:function(){return s}});var r=n(5893),a=function(e){return(0,r.jsx)("div",{className:"alert alert-success",children:e})},s=function(e){return(0,r.jsx)("div",{className:"alert alert-danger",children:e})}},5085:function(e,t,n){"use strict";n.d(t,{ej:function(){return s},YR:function(){return i},$D:function(){return o},kS:function(){return u},Nq:function(){return l}});var r=n(1955),a=n(1163),s=function(e,t){return c(e)},c=function(e){return r.Z.get(e)},i=function(e,t){var n,a;n="token",a=e.data.token,r.Z.set(n,a,{expires:1}),function(e,t){localStorage.setItem(e,JSON.stringify(t))}("user",e.data.user),t()},o=function(){if(s("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))},u=function(){var e;e="token",r.Z.remove(e),function(e){localStorage.removeItem(e)}("user"),a.default.push("/login")},l=function(e,t){if(localStorage.getItem("user")){var n=JSON.parse(localStorage.getItem("user"));n=e,localStorage.setItem("user",JSON.stringify(n)),t()}}},9005:function(e,t,n){"use strict";n.r(t);var r=n(4051),a=n.n(r),s=n(5893),c=n(7294),i=n(9704),o=n.n(i),u=n(9669),l=n.n(u),f=n(2933),d=n(1838),m=n(1163),h=n(5789);function v(e,t,n,r,a,s,c){try{var i=e[s](c),o=i.value}catch(u){return void n(u)}i.done?t(o):Promise.resolve(o).then(r,a)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}t.default=(0,m.withRouter)((function(e){var t=e.router,n=(0,c.useState)({name:"",token:"",buttonText:"Activate Account",success:"",error:""}),r=n[0],i=n[1],u=r.name,m=r.token,x=r.buttonText,j=r.success,b=r.error;(0,c.useEffect)((function(){var e=t.query.id;if(e){var n=o().decode(e).name;i(g({},r,{name:n,token:e}))}}),[t]);var k=function(){var e,t=(e=a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(g({},r,{buttonText:"Activating"})),e.prev=2,e.next=5,l().post("".concat(d.bl,"/register/activate"),{token:m});case 5:n=e.sent,i(g({},r,{name:"",token:"",buttonText:"Activated",success:n.data.message})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i(g({},r,{buttonText:"Activate Account",error:e.t0.response.data.error}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){v(s,r,a,c,i,"next",e)}function i(e){v(s,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,s.jsx)(h.Z,{children:(0,s.jsx)("div",{className:"row",children:(0,s.jsxs)("div",{className:"col-md-6 offset-md-3",children:[(0,s.jsxs)("h1",{children:["G'day ",u,", Ready to activate your account?"]}),(0,s.jsx)("br",{}),j&&(0,f.r)(j),b&&(0,f.U)(b),(0,s.jsx)("button",{className:"btn btn-outline-warning btn-block",onClick:k,children:x})]})})})}))},2361:function(){},4616:function(){}},function(e){e.O(0,[774,714,61,304,876,811,288,888,179],(function(){return t=6584,e(e.s=t);var t}));var t=e.O();_N_E=t}]);